<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ntando Mods Pro - Professional Streaming Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 15px 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .logo {
            font-size: 1.8em;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-link {
            padding: 8px 16px;
            border-radius: 10px;
            text-decoration: none;
            color: #333;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-link:hover, .nav-link.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-radius: 20px;
            cursor: pointer;
        }

        /* Main Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
            margin-bottom: 20px;
        }

        .content-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* Stream Creation */
        .create-stream-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .stream-setup {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .video-preview {
            background: #000;
            border-radius: 15px;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        #localVideo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
        }

        .stream-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .input-group label {
            font-weight: 600;
            color: #333;
        }

        input, textarea, select {
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: white;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e1e5e9;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Live Streams Grid */
        .streams-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .streams-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .filter-tabs {
            display: flex;
            gap: 10px;
        }

        .filter-tab {
            padding: 8px 16px;
            border: none;
            background: #f8f9fa;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-tab.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .streams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .stream-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stream-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .stream-thumbnail {
            width: 100%;
            height: 180px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2em;
        }

        .live-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #ff4757;
            color: white;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .viewer-count {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.8em;
        }

        .stream-info {
            padding: 15px;
        }

        .stream-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .stream-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #666;
            font-size: 0.9em;
        }

        /* Sidebar */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .sidebar-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .sidebar-section h4 {
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Chat System */
        .chat-container {
            height: 400px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 10px;
            max-height: 300px;
        }

        .chat-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .chat-message .username {
            font-weight: bold;
            color: #667eea;
            margin-right: 8px;
        }

        .chat-message .timestamp {
            font-size: 0.8em;
            color: #999;
            float: right;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 20px;
            outline: none;
        }

        .chat-send {
            padding: 10px 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }

        /* Statistics */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-radius: 10px;
        }

        .stat-number {
            font-size: 1.5em;
            font-weight: bold;
            display: block;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: all 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid #2ecc71;
        }

        .notification.error {
            border-left: 4px solid #e74c3c;
        }

        /* Stream Modal */
        .stream-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            padding: 20px;
        }

        .stream-modal-content {
            background: white;
            border-radius: 20px;
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: 1fr 350px;
            overflow: hidden;
        }

        .stream-player {
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            position: relative;
        }

        .stream-sidebar {
            background: white;
            display: flex;
            flex-direction: column;
        }

        .stream-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
        }

        .close-stream {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            
            .stream-setup {
                grid-template-columns: 1fr;
            }
            
            .stream-modal-content {
                grid-template-columns: 1fr;
                grid-template-rows: 1fr auto;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .navbar {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .streams-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .slide-in {
            animation: slideIn 0.3s ease;
        }

        /* Loading States */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div class="container">
        <nav class="navbar">
            <div class="logo">
                <i class="fas fa-rocket"></i> Ntando Mods Pro
            </div>
            <div class="nav-links">
                <a href="#" class="nav-link active" data-tab="home">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="#" class="nav-link" data-tab="browse">
                    <i class="fas fa-search"></i> Browse
                </a>
                <a href="#" class="nav-link" data-tab="following">
                    <i class="fas fa-heart"></i> Following
                </a>
                <a href="#" class="nav-link" data-tab="create">
                    <i class="fas fa-video"></i> Go Live
                </a>
            </div>
            <div class="user-profile" onclick="toggleUserMenu()">
                <i class="fas fa-user"></i>
                <span id="username">Guest User</span>
                <i class="fas fa-chevron-down"></i>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-layout">
            <div class="content-area">
                <!-- Stream Creation Section -->
                <div class="create-stream-section" id="createStreamSection">
                    <h2><i class="fas fa-broadcast-tower"></i> Start Your Live Stream</h2>
                    <div class="stream-setup">
                        <div class="video-preview">
                            <video id="localVideo" autoplay muted playsinline style="display: none;"></video>
                            <div id="videoPlaceholder">
                                <i class="fas fa-video" style="font-size: 3em; margin-bottom: 10px;"></i>
                                <p>Click "Start Camera" to preview</p>
                            </div>
                        </div>
                        <div class="stream-controls">
                            <div class="input-group">
                                <label for="streamTitle">Stream Title</label>
                                <input type="text" id="streamTitle" placeholder="What are you streaming today?" maxlength="100">
                            </div>
                            <div class="input-group">
                                <label for="streamCategory">Category</label>
                                <select id="streamCategory">
                                    <option value="">Select Category</option>
                                    <option value="Gaming">üéÆ Gaming</option>
                                    <option value="Music">üéµ Music</option>
                                    <option value="Art">üé® Art & Design</option>
                                    <option value="Tech">üíª Technology</option>
                                    <option value="Education">üìö Education</option>
                                    <option value="Cooking">üç≥ Cooking</option>
                                    <option value="Fitness">üí™ Fitness</option>
                                    <option value="Travel">‚úàÔ∏è Travel</option>
                                    <option value="IRL">üåü Just Chatting</option>
                                    <option value="Other">üî• Other</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="streamDescription">Description</label>
                                <textarea id="streamDescription" rows="3" placeholder="Tell viewers what to expect..." maxlength="500"></textarea>
                            </div>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-secondary" id="startCameraBtn" onclick="startCamera()">
                                    <i class="fas fa-camera"></i> Start Camera
                                </button>
                                <button class="btn btn-primary" id="goLiveBtn" onclick="goLive()" disabled>
                                    <i class="fas fa-circle pulse" style="color: #ff4757;"></i> Go Live
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Live Streams Section -->
                <div class="streams-section">
                    <div class="streams-header">
                        <h2><i class="fas fa-fire"></i> Live Streams</h2>
                        <div class="filter-tabs">
                            <button class="filter-tab active" data-filter="all">All</button>
                            <button class="filter-tab" data-filter="Gaming">Gaming</button>
                            <button class="filter-tab" data-filter="Music">Music</button>
                            <button class="filter-tab" data-filter="Art">Art</button>
                            <button class="filter-tab" data-filter="Tech">Tech</button>
                        </div>
                    </div>
                    <div class="streams-grid" id="streamsGrid">
                        <!-- Streams will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Platform Statistics -->
                <div class="sidebar-section">
                    <h4><i class="fas fa-chart-line"></i> Live Stats</h4>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-number" id="liveCount">0</span>
                            <span>Live Now</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="viewerCount">0</span>
                            <span>Viewers</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="streamerCount">0</span>
                            <span>Streamers</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="categoryCount">10</span>
                            <span>Categories</span>
                        </div>
                    </div>
                </div>

                <!-- Global Chat -->
                <div class="sidebar-section">
                    <h4><i class="fas fa-comments"></i> Global Chat</h4>
                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <!-- Chat messages will appear here -->
                        </div>
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" id="chatInput" placeholder="Type a message..." maxlength="200">
                            <button class="chat-send" onclick="sendMessage()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Trending Categories -->
                <div class="sidebar-section">
                    <h4><i class="fas fa-trending-up"></i> Trending</h4>
                    <div id="trendingList">
                        <!-- Trending items will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stream Viewer Modal -->
    <div class="stream-modal" id="streamModal">
        <div class="stream-modal-content">
            <div class="stream-player">
                <button class="close-stream" onclick="closeStream()">
                    <i class="fas fa-times"></i>
                </button>
                <div id="streamPlayerContent">
                    <i class="fas fa-play-circle" style="font-size: 4em; margin-bottom: 20px;"></i>
                    <p>Stream Player</p>
                </div>
            </div>
            <div class="stream-sidebar">
                <div class="stream-header">
                    <h3 id="modalStreamTitle">Stream Title</h3>
                    <p id="modalStreamInfo">Stream Info</p>
                    <div style="margin-top: 15px; display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="flex: 1;">
                            <i class="fas fa-heart"></i> Follow
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-share"></i>
                        </button>
                    </div>
                </div>
                <div style="flex: 1; padding: 20px;">
                    <div class="chat-container">
                        <div class="chat-messages" id="streamChatMessages">
                            <!-- Stream-specific chat -->
                        </div>
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" id="streamChatInput" placeholder="Chat with viewers...">
                            <button class="chat-send" onclick="sendStreamMessage()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        let streams = [];
        let currentUser = {
            id: Math.random().toString(36).substr(2, 9),
            username: 'User' + Math.floor(Math.random() * 1000),
            isStreaming: false,
            followers: 0
        };
        let localStream = null;
        let currentStreamId = null;
        let chatMessages = [];
        let streamIdCounter = 1;

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            loadSampleData();
            startRealTimeUpdates();
        });

        function initializeApp() {
            document.getElementById('username').textContent = currentUser.username;
            updateStats();
            setupChat();
        }

        function setupEventListeners() {
            // Navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchTab(e.target.closest('.nav-link').dataset.tab);
                });
            });

            // Filter tabs
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    filterStreams(e.target.dataset.filter);
                });
            });

            // Chat input
            document.getElementById('chatInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            document.getElementById('streamChatInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendStreamMessage();
                }
            });

            // Form validation
            ['streamTitle', 'streamCategory', 'streamDescription'].forEach(id => {
                document.getElementById(id).addEventListener('input', validateStreamForm);
            });
        }

        // Camera and Streaming Functions
        async function startCamera() {
            try {
                const constraints = {
                    video: {
                        width: { ideal: 1280 },
                        height: { ideal: 720 },
                        facingMode: 'user'
                    },
                    audio: true
                };

                localStream = await navigator.mediaDevices.getUserMedia(constraints);
                const videoElement = document.getElementById('localVideo');
                const placeholder = document.getElementById('videoPlaceholder');
                
                videoElement.srcObject = localStream;
                videoElement.style.display = 'block';
                placeholder.style.display = 'none';
                
                document.getElementById('startCameraBtn').innerHTML = '<i class="fas fa-camera-slash"></i> Stop Camera';
                document.getElementById('startCameraBtn').onclick = stopCamera;
                
                validateStreamForm();
                showNotification('Camera started successfully!', 'success');
            } catch (error) {
                console.error('Error accessing camera:', error);
                showNotification('Could not access camera. Please check permissions.', 'error');
            }
        }

        function stopCamera() {
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop());
                localStream = null;
                
                const videoElement = document.getElementById('localVideo');
                const placeholder = document.getElementById('videoPlaceholder');
                
                videoElement.style.display = 'none';
                placeholder.style.display = 'flex';
                
                document.getElementById('startCameraBtn').innerHTML = '<i class="fas fa-camera"></i> Start Camera';
                document.getElementById('startCameraBtn').onclick = startCamera;
                
                validateStreamForm();
            }
        }

        function validateStreamForm() {
            const title = document.getElementById('streamTitle').value.trim();
            const category = document.getElementById('streamCategory').value;
            const hasCamera = localStream !== null;
            
            const goLiveBtn = document.getElementById('goLiveBtn');
            goLiveBtn.disabled = !(title && category && hasCamera);
        }

        function goLive() {
            const title = document.getElementById('streamTitle').value.trim();
            const category = document.getElementById('streamCategory').value;
            const description = document.getElementById('streamDescription').value.trim();
            
            if (!title || !category || !localStream) {
                showNotification('Please fill all required fields and start your camera.', 'error');
                return;
            }

            const newStream = {
                id: streamIdCounter++,
                title: title,
                category: category,
                description: description || 'No description provided.',
                streamer: currentUser.username,
                streamerId: currentUser.id,
                viewers: 0,
                isLive: true,
                startTime: new Date(),
                thumbnail: generateThumbnail(category),
                chatMessages: []
            };

            streams.unshift(newStream);
            currentUser.isStreaming = true;
            currentStreamId = newStream.id;
            
            renderStreams();
            updateStats();
            
            // Update UI
            document.getElementById('goLiveBtn').innerHTML = '<i class="fas fa-stop-circle"></i> End Stream';
            document.getElementById('goLiveBtn').onclick = endStream;
            document.getElementById('goLiveBtn').style.background = '#e74c3c';
            
            showNotification('üéâ You are now live!', 'success');
            
            // Clear form
            document.getElementById('streamTitle').value = '';
            document.getElementById('streamCategory').value = '';
            document.getElementById('streamDescription').value = '';
        }

        function endStream() {
            if (currentStreamId) {
                const streamIndex = streams.findIndex(s => s.id === currentStreamId);
                if (streamIndex !== -1) {
                    streams.splice(streamIndex, 1);
                }
                
                currentUser.isStreaming = false;
                currentStreamId = null;
                
                stopCamera();
                renderStreams();
                updateStats();
                
                // Reset UI
                const goLiveBtn = document.getElementById('goLiveBtn');
                goLiveBtn.innerHTML = '<i class="fas fa-circle pulse" style="color: #ff4757;"></i> Go Live';
                goLiveBtn.onclick = goLive;
                goLiveBtn.style.background = '';
                goLiveBtn.disabled = true;
                
                showNotification('Stream ended successfully!', 'success');
            }
        }

                // Stream Management
        function loadSampleData() {
            const sampleStreams = [
                {
                    id: streamIdCounter++,
                    title: "Epic Gaming Session - New Battle Royale!",
                    category: "Gaming",
                    description: "Playing the latest battle royale game with viewers!",
                    streamer: "ProGamer123",
                    streamerId: "pg123",
                    viewers: Math.floor(Math.random() * 500) + 50,
                    isLive: true,
                    startTime: new Date(Date.now() - Math.random() * 3600000),
                    thumbnail: generateThumbnail("Gaming"),
                    chatMessages: []
                },
                {
                    id: streamIdCounter++,
                    title: "Chill Music & Chat üéµ",
                    category: "Music",
                    description: "Playing some relaxing tunes and chatting with viewers",
                    streamer: "MusicMaven",
                    streamerId: "mm456",
                    viewers: Math.floor(Math.random() * 300) + 25,
                    isLive: true,
                    startTime: new Date(Date.now() - Math.random() * 7200000),
                    thumbnail: generateThumbnail("Music"),
                    chatMessages: []
                },
                {
                    id: streamIdCounter++,
                    title: "Digital Art Creation - Fantasy Landscape",
                    category: "Art",
                    description: "Creating a beautiful fantasy landscape in Photoshop",
                    streamer: "ArtistPro",
                    streamerId: "ap789",
                    viewers: Math.floor(Math.random() * 200) + 15,
                    isLive: true,
                    startTime: new Date(Date.now() - Math.random() * 5400000),
                    thumbnail: generateThumbnail("Art"),
                    chatMessages: []
                },
                {
                    id: streamIdCounter++,
                    title: "Web Development Tutorial - React Hooks",
                    category: "Tech",
                    description: "Learning React Hooks with practical examples",
                    streamer: "CodeMaster",
                    streamerId: "cm101",
                    viewers: Math.floor(Math.random() * 150) + 20,
                    isLive: true,
                    startTime: new Date(Date.now() - Math.random() * 1800000),
                    thumbnail: generateThumbnail("Tech"),
                    chatMessages: []
                },
                {
                    id: streamIdCounter++,
                    title: "Cooking Italian Pasta from Scratch",
                    category: "Cooking",
                    description: "Making authentic Italian pasta with traditional methods",
                    streamer: "ChefBella",
                    streamerId: "cb202",
                    viewers: Math.floor(Math.random() * 180) + 30,
                    isLive: true,
                    startTime: new Date(Date.now() - Math.random() * 2700000),
                    thumbnail: generateThumbnail("Cooking"),
                    chatMessages: []
                }
            ];

            streams = sampleStreams;
            renderStreams();
            updateStats();
            loadSampleChat();
            updateTrending();
        }

        function generateThumbnail(category) {
            const thumbnails = {
                Gaming: "üéÆ",
                Music: "üéµ",
                Art: "üé®",
                Tech: "üíª",
                Education: "üìö",
                Cooking: "üç≥",
                Fitness: "üí™",
                Travel: "‚úàÔ∏è",
                IRL: "üåü",
                Other: "üî•"
            };
            return thumbnails[category] || "üì∫";
        }

        function renderStreams(filteredStreams = null) {
            const streamsGrid = document.getElementById('streamsGrid');
            const streamsToRender = filteredStreams || streams;
            
            if (streamsToRender.length === 0) {
                streamsGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #666;">
                        <i class="fas fa-video-slash" style="font-size: 3em; margin-bottom: 20px; opacity: 0.5;"></i>
                        <h3>No live streams found</h3>
                        <p>Be the first to go live!</p>
                    </div>
                `;
                return;
            }

            streamsGrid.innerHTML = streamsToRender.map(stream => `
                <div class="stream-card slide-in" onclick="openStream(${stream.id})">
                    <div class="stream-thumbnail">
                        <div style="font-size: 4em;">${stream.thumbnail}</div>
                        <div class="live-badge">
                            <i class="fas fa-circle pulse"></i> LIVE
                        </div>
                        <div class="viewer-count">
                            <i class="fas fa-eye"></i> ${formatNumber(stream.viewers)}
                        </div>
                    </div>
                    <div class="stream-info">
                        <div class="stream-title">${stream.title}</div>
                        <div class="stream-meta">
                            <span><i class="fas fa-user"></i> ${stream.streamer}</span>
                            <span><i class="fas fa-tag"></i> ${stream.category}</span>
                        </div>
                        <div class="stream-meta" style="margin-top: 5px; font-size: 0.8em;">
                            <span><i class="fas fa-clock"></i> ${getStreamDuration(stream.startTime)}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterStreams(category) {
            // Update active tab
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Filter streams
            if (category === 'all') {
                renderStreams();
            } else {
                const filtered = streams.filter(stream => stream.category === category);
                renderStreams(filtered);
            }
        }

        function openStream(streamId) {
            const stream = streams.find(s => s.id === streamId);
            if (!stream) return;

            // Increment viewer count
            stream.viewers++;
            updateStats();
            renderStreams();

            // Update modal content
            document.getElementById('modalStreamTitle').textContent = stream.title;
            document.getElementById('modalStreamInfo').innerHTML = `
                <div style="margin-bottom: 10px;">
                    <strong>${stream.streamer}</strong> ‚Ä¢ ${stream.category}
                </div>
                <div style="color: #666; font-size: 0.9em;">
                    <i class="fas fa-eye"></i> ${formatNumber(stream.viewers)} viewers ‚Ä¢ 
                    <i class="fas fa-clock"></i> ${getStreamDuration(stream.startTime)}
                </div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                    ${stream.description}
                </div>
            `;

            // Load stream chat
            loadStreamChat(streamId);

            // Show modal
            document.getElementById('streamModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeStream() {
            document.getElementById('streamModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Chat System
        function setupChat() {
            loadSampleChat();
        }

        function loadSampleChat() {
            const sampleMessages = [
                { username: "StreamFan", message: "Welcome to Ntando Mods Pro! üéâ", timestamp: new Date(Date.now() - 300000) },
                { username: "TechGuru", message: "This platform looks amazing!", timestamp: new Date(Date.now() - 240000) },
                { username: "GameMaster", message: "Can't wait to start streaming here", timestamp: new Date(Date.now() - 180000) },
                { username: "ArtLover", message: "The interface is so clean and modern", timestamp: new Date(Date.now() - 120000) },
                { username: "MusicFan", message: "Great work on this platform! üëè", timestamp: new Date(Date.now() - 60000) }
            ];

            chatMessages = sampleMessages;
            renderChatMessages();
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;

            const newMessage = {
                username: currentUser.username,
                message: message,
                timestamp: new Date()
            };

            chatMessages.push(newMessage);
            renderChatMessages();
            input.value = '';

            // Simulate responses
            setTimeout(() => {
                simulateResponse();
            }, Math.random() * 3000 + 1000);
        }

        function sendStreamMessage() {
            const input = document.getElementById('streamChatInput');
            const message = input.value.trim();
            
            if (!message) return;

            // Add message to stream chat (simplified for demo)
            const chatContainer = document.getElementById('streamChatMessages');
            const messageElement = document.createElement('div');
            messageElement.className = 'chat-message';
            messageElement.innerHTML = `
                <span class="username">${currentUser.username}</span>
                ${message}
                <span class="timestamp">${formatTime(new Date())}</span>
            `;
            
            chatContainer.appendChild(messageElement);
            chatContainer.scrollTop = chatContainer.scrollHeight;
            input.value = '';
        }

        function renderChatMessages() {
            const chatContainer = document.getElementById('chatMessages');
            chatContainer.innerHTML = chatMessages.slice(-20).map(msg => `
                <div class="chat-message">
                    <span class="username">${msg.username}</span>
                    ${msg.message}
                    <span class="timestamp">${formatTime(msg.timestamp)}</span>
                </div>
            `).join('');
            
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function loadStreamChat(streamId) {
            const chatContainer = document.getElementById('streamChatMessages');
            const sampleStreamMessages = [
                "Welcome to the stream! üéâ",
                "This is awesome!",
                "Great content as always",
                "Can you show that again?",
                "Love this stream! ‚ù§Ô∏è"
            ];

            chatContainer.innerHTML = sampleStreamMessages.map(msg => `
                <div class="chat-message">
                    <span class="username">Viewer${Math.floor(Math.random() * 100)}</span>
                    ${msg}
                    <span class="timestamp">${formatTime(new Date())}</span>
                </div>
            `).join('');
        }

        function simulateResponse() {
            const responses = [
                "Great stream! üëç",
                "Thanks for sharing!",
                "This is helpful",
                "Keep up the good work!",
                "Amazing content! üî•",
                "Love this platform",
                "When's the next stream?",
                "This is so cool! ‚ú®"
            ];

            const usernames = ["StreamFan", "TechGuru", "GameMaster", "ArtLover", "MusicFan", "ViewerPro", "ChatMaster"];
            
            const response = {
                username: usernames[Math.floor(Math.random() * usernames.length)],
                message: responses[Math.floor(Math.random() * responses.length)],
                timestamp: new Date()
            };

            chatMessages.push(response);
            renderChatMessages();
        }

        // Statistics and Updates
        function updateStats() {
            document.getElementById('liveCount').textContent = streams.length;
            document.getElementById('viewerCount').textContent = formatNumber(streams.reduce((total, stream) => total + stream.viewers, 0));
            document.getElementById('streamerCount').textContent = formatNumber(streams.length + Math.floor(Math.random() * 50) + 100);
        }

        function updateTrending() {
            const trending = [
                { name: "üéÆ Gaming", count: Math.floor(Math.random() * 100) + 50 },
                { name: "üéµ Music", count: Math.floor(Math.random() * 80) + 30 },
                { name: "üé® Art & Design", count: Math.floor(Math.random() * 60) + 20 },
                { name: "üíª Technology", count: Math.floor(Math.random() * 40) + 15 },
                { name: "üç≥ Cooking", count: Math.floor(Math.random() * 30) + 10 }
            ];

            const trendingList = document.getElementById('trendingList');
            trendingList.innerHTML = trending.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #eee;">
                    <span>${item.name}</span>
                    <span style="color: #667eea; font-weight: bold;">${item.count}</span>
                </div>
            `).join('');
        }

        function startRealTimeUpdates() {
            // Update viewer counts periodically
            setInterval(() => {
                streams.forEach(stream => {
                    const change = Math.floor(Math.random() * 10) - 5;
                    stream.viewers = Math.max(1, stream.viewers + change);
                });
                updateStats();
                renderStreams();
            }, 10000);

            // Add random chat messages
            setInterval(() => {
                if (Math.random() < 0.3) {
                    simulateResponse();
                }
            }, 15000);

            // Update trending
            setInterval(() => {
                updateTrending();
            }, 30000);
        }

        // Navigation
        function switchTab(tab) {
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            document.querySelector(`[data-tab="${tab}"]`).classList.add('active');

            // Show/hide sections based on tab
            const createSection = document.getElementById('createStreamSection');
            
            switch(tab) {
                case 'home':
                    createSection.style.display = 'block';
                    break;
                case 'browse':
                    createSection.style.display = 'none';
                    break;
                case 'following':
                    createSection.style.display = 'none';
                    showNotification('Following feature coming soon!', 'success');
                    break;
                case 'create':
                    createSection.style.display = 'block';
                    createSection.scrollIntoView({ behavior: 'smooth' });
                    break;
            }
        }

        function toggleUserMenu() {
            showNotification('User menu coming soon!', 'success');
        }

        // Utility Functions
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num.toString();
        }

        function formatTime(date) {
            return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        function getStreamDuration(startTime) {
            const now = new Date();
            const diff = now - startTime;
            const hours = Math.floor(diff / 3600000);
            const minutes = Math.floor((diff % 3600000) / 60000);
            
            if (hours > 0) {
                return `${hours}h ${minutes}m`;
            }
            return `${minutes}m`;
        }

        function showNotification(message, type = 'success') {
            // Remove existing notification
            const existing = document.querySelector('.notification');
            if (existing) {
                existing.remove();
            }

            // Create new notification
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;

            document.body.appendChild(notification);

            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);

            // Hide notification
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        switchTab('home');
                        break;
                    case '2':
                        e.preventDefault();
                        switchTab('browse');
                        break;
                    case '3':
                        e.preventDefault();
                        switchTab('following');
                        break;
                    case '4':
                        e.preventDefault();
                        switchTab('create');
                        break;
                }
            }
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth <= 768) {
                // Mobile optimizations
                document.querySelector('.main-layout').style.gridTemplateColumns = '1fr';
            } else if (window.innerWidth <= 1024) {
                // Tablet optimizations
                document.querySelector('.main-layout').style.gridTemplateColumns = '1fr';
            } else {
                // Desktop layout
                document.querySelector('.main-layout').style.gridTemplateColumns = '1fr 350px';
            }
        });

        // Close modal when clicking outside
        document.getElementById('streamModal').addEventListener('click', (e) => {
            if (e.target.id === 'streamModal') {
                closeStream();
            }
        });

        // Handle escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeStream();
            }
        });
        <script src="app.js"></script>
});
    </script>
</body>
</html>

